<aside
    class="group fixed top-0 left-0 h-screen w-16 hover:w-56 bg-base-100 border-r border-base-content/10 flex flex-col transition-[width] duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] z-50 overflow-hidden shadow-none">

    <div class="h-20 flex items-center px-4 mb-2 relative overflow-hidden">
        <div class="min-w-8 flex justify-center">
            <i class="bi bi-fan text-xl text-primary animate-[spin_4s_linear_infinite]"></i>
        </div>
        <h1
            class="ml-4 text-xl font-semibold text-base-content tracking-tighter opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap select-none">
            Desk<span class="text-primary">Flow</span>
        </h1>
    </div>

    <nav class="flex-1 px-2 flex flex-col gap-1.5 select-none">
        @if (isAdmin()) {
            @for (item of adminMenuItems(); track item.link) {
            <a [routerLink]="item.link" routerLinkActive="bg-primary/10 text-primary border-primary/20"
                [routerLinkActiveOptions]="{ exact: item.exact || false }"
                class="flex items-center h-10 px-3 rounded-xl transition-all duration-300 border border-transparent hover:bg-base-200 hover:text-primary custom:hover:text-secondary group/item overflow-hidden">
                <div class="min-w-6 flex justify-center items-center">
                    <i class="bi {{item.icon}} text-base transition-transform group-hover/item:scale-110"></i>
                </div>
                <span
                    class="ml-4 font-semibold opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap text-sm">
                    {{item.label}}
                </span>
            </a>
            }
        } @else if (isAgent()) {
            @for (item of agentMenuItems(); track item.link) {
            <a [routerLink]="item.link" routerLinkActive="bg-primary/10 text-primary border-primary/20"
                [routerLinkActiveOptions]="{ exact: item.exact || false }"
                class="flex items-center h-10 px-3 rounded-xl transition-all duration-300 border border-transparent hover:bg-base-200 hover:text-primary custom:hover:text-secondary group/item overflow-hidden">
                <div class="min-w-6 flex justify-center items-center">
                    <i class="bi {{item.icon}} text-base transition-transform group-hover/item:scale-110"></i>
                </div>
                <span
                    class="ml-4 font-semibold opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap text-sm">
                    {{item.label}}
                </span>
            </a>
            }
        } @else {
            @for (item of menuItems(); track item.link) {
            <a [routerLink]="item.link" routerLinkActive="bg-primary/10 text-primary border-primary/20"
                [routerLinkActiveOptions]="{ exact: item.exact || false }"
                class="flex items-center h-10 px-3 rounded-xl transition-all duration-300 border border-transparent hover:bg-base-200 hover:text-primary custom:hover:text-secondary group/item overflow-hidden">
                <div class="min-w-6 flex justify-center items-center">
                    <i class="bi {{item.icon}} text-base transition-transform group-hover/item:scale-110"></i>
                </div>
                <span
                    class="ml-4 font-semibold opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap text-sm">
                    {{item.label}}
                </span>
            </a>
            }
        }
    </nav>

    <div class="p-2 border-t border-base-content/10">
        <div class="mb-2 flex flex-col gap-1.5">
            <button (click)="config.toggleTheme()"
                class="flex items-center h-10 px-3 rounded-xl transition-all duration-300 border border-transparent hover:bg-base-200 hover:text-primary group/item overflow-hidden w-full cursor-pointer text-base-content/70">
                <div class="min-w-6 flex justify-center items-center">
                    <i class="bi"
                        [class]="config.currentTheme() === 'custom' ? 'bi-moon-stars-fill' : 'bi-sun-fill'"></i>
                </div>
                <span
                    class="ml-4 font-semibold opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap text-sm">
                    <ng-container i18n="@@nav.theme">Tema</ng-container> -
                    @if (config.currentTheme() === 'custom') {
                    <ng-container i18n="@@nav.theme.dark">Oscuro</ng-container>
                    } @else {
                    <ng-container i18n="@@nav.theme.light">Claro</ng-container>
                    }
                </span>
            </button>
        </div>

        <div class="flex items-center p-2 rounded-xl transition-colors duration-300 group-hover:bg-base-200">
            <div
                class="min-w-8 h-8 rounded-lg bg-primary text-base-content flex items-center justify-center text-xs font-semibold shadow-none">
                {{ userName().charAt(0).toUpperCase() }}
            </div>
            <div
                class="ml-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 overflow-hidden whitespace-nowrap text-left">
                <p class="text-[10px] font-semibold text-base-content/50 leading-none mb-1" i18n="@@nav.user.label">
                    Usuario</p>
                <p class="text-xs font-semibold text-base-content truncate w-28 h-4 leading-none">{{ userName() }}</p>
            </div>
        </div>

        <button (click)="logout()"
            class="mt-2 flex items-center h-10 w-full rounded-xl bg-error/5 text-error hover:bg-error hover:text-error-content transition-all duration-300 overflow-hidden group/btn relative shadow-none border-none cursor-pointer">
            <div class="min-w-10 h-full flex items-center justify-center">
                <i class="bi bi-power text-lg"></i>
            </div>
            <span
                class="font-semibold text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap"
                i18n="@@nav.logout">
                Cerrar sesi√≥n
            </span>
        </button>
    </div>
</aside>