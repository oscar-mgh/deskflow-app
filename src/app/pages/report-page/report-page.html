<section class="min-h-screen bg-base-200 text-gray-100 p-4 md:p-8 ml-16 md:ml-20 fade">
  
  <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12">
    <div>
      <h1 class="text-4xl font-black tracking-tight mb-2">Intelligence <span class="text-primary">Center</span></h1>
      <p class="text-gray-500 font-medium">Panel analítico de rendimiento y cumplimiento de objetivos.</p>
    </div>
    <div class="flex items-center gap-3 bg-zinc-900/50 p-2 rounded-2xl border border-white/5 shadow-inner">
        <button class="btn btn-ghost btn-sm text-gray-400">Últimos 30 días</button>
        <div class="divider divider-horizontal m-0"></div>
        <button class="btn btn-primary btn-sm px-6 shadow-none border-none hover:opacity-90">Descargar Reporte</button>
    </div>
  </header>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
    @for (kpi of [
      { label: 'Total Tickets', val: totalTickets(), color: 'text-white' },
      { label: 'SLA Global', val: slaCompliance() + '%', color: 'text-primary' },
      { label: 'Resolución Promedio', val: avgResolutionTime(), color: 'text-white' },
      { label: 'Satisfacción', val: '4.8/5', color: 'text-lime-400' }
    ]; track kpi.label) {
      <div class="bg-zinc-900/40 backdrop-blur-sm border border-white/5 p-6 rounded-3xl hover:border-primary/20 transition-all group">
        <p class="text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-500 mb-2">{{ kpi.label }}</p>
        <h2 class="text-3xl font-black {{ kpi.color }}">{{ kpi.val }}</h2>
      </div>
    }
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
    
    <div class="lg:col-span-8 bg-zinc-900/40 border border-white/5 p-8 rounded-4xl shadow-2xl">
      <h3 class="text-lg font-bold mb-8 flex items-center gap-3">
          <span class="w-2 h-2 rounded-full bg-primary"></span> Tendencia de Actividad
      </h3>
      <div #trendChart class="w-full h-[400px]"></div>
    </div>

    <div class="lg:col-span-4 bg-zinc-900/40 border border-white/5 p-8 rounded-4xl shadow-2xl relative overflow-hidden">
        <h3 class="text-lg font-bold mb-8">Carga por Prioridad</h3>
        <div #priorityChart class="w-full h-[300px]"></div>
        <div class="mt-4 space-y-2">
            <div class="flex justify-between text-xs font-bold"><span class="text-zinc-500 uppercase">Crítico</span> <span class="text-red-500">12%</span></div>
            <div class="w-full bg-zinc-800 h-1.5 rounded-full"><div class="bg-red-500 h-full rounded-full" style="width: 12%"></div></div>
        </div>
    </div>

    <div class="lg:col-span-4 bg-zinc-900/40 border border-white/5 p-8 rounded-4xl">
      <h3 class="text-lg font-bold mb-6 italic">SLA por Departamento</h3>
      <div #slaChart class="w-full h-[250px]"></div>
    </div>

    <div class="lg:col-span-4 bg-zinc-900/40 border border-white/5 p-8 rounded-4xl">
      <h3 class="text-lg font-bold mb-6">Eficiencia Agentes</h3>
      <div #agentsChart class="w-full h-[250px]"></div>
    </div>

    <div class="lg:col-span-4 bg-zinc-900/40 border border-white/5 p-8 rounded-4xl">
      <h3 class="text-lg font-bold mb-6">Métricas Holísticas</h3>
      <div #efficiencyChart class="w-full h-[250px]"></div>
    </div>

  </div>
</section>